<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cheetah & Gazelles</title>
    <link rel="stylesheet" href="cheetah.css">
</head>
<body>
<div class="container">
<h1>Cheetah & Gazelles Management System</h1>
<p th:text="'Cheetah Last Updated: ' + ${cheetahUpdateTime}"></p>
<div class="cheetah-info">
    <h2>Cheetah Information</h2>
    <p>Name: <span th:text="${currentCheetahName}"></span></p>
    <p>Speed: <span th:text="${currentCheetahSpeed}"></span> km/h</p>
    <p>Age: <span th:text="${currentCheetahAge}"></span> years old</p>
</div>
<p th:text="'Gazelles Last Updated: ' + ${gazellesUpdateTime}"></p>
<h2>Gazelles List:</h2>
    <div class="button-container">
        <form th:action="@{/cheetah/clear-gazelles}" method="post">
            <button type="submit">Clear Gazelles List</button>
        </form>
        <br>
        <form th:action="@{/cheetah/hunt}" method="post">
            <button type="submit">Hunt Slowest Gazelle</button>
        </form>
    </div>
<table id="gazellesList">
    <thead>
    <tr>
        <th>Name</th>
        <th>Speed</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="gazelle : ${gazelles}">
        <td th:text="${gazelle.name}"></td>
        <td th:text="${gazelle.speed}"></td>
    </tr>
    </tbody>
</table>
    <hr>
    <button onclick="toggleCheetahForm()">Update Cheetah</button>
    <form id="cheetah_form" th:action="@{/cheetah/update-cheetah}" method="post" style="display:none;">
        <label for="cheetahName">Cheetah Name:</label>
        <input type="text" id="cheetahName" name="name" required><br><br>
        <label for="cheetahSpeed">Cheetah Speed:</label>
        <input type="number" id="cheetahSpeed" name="speed" required><br><br>
        <label for="cheetahAge">Cheetah Age:</label>
        <input type="number" id="cheetahAge" name="age" required><br><br>
        <button type="submit">Update Cheetah</button>
    </form>
    <br>
    <br>
    <button onclick="toggleAddGazelleForm()">Add Gazelle</button>
    <form id="addgazelle_form" th:action="@{/cheetah/add-gazelle}" method="post" style="display:none;">
        <label for="gazelleName">Gazelle Name:</label>
        <input type="text" id="gazelleName" name="name" required><br><br>
        <label for="gazelleSpeed">Gazelle Speed:</label>
        <input type="number" id="gazelleSpeed" name="speed" required><br><br>
        <button type="submit">Add Gazelle</button>
    </form>

</div>
<script>
    function toggleCheetahForm() {
        var form = document.querySelector('#cheetah_form');
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }

    function toggleAddGazelleForm() {
        var form = document.querySelector('#addgazelle_form');
        form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
</script>
</body>
</html>
